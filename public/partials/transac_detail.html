<div class="page-header">
  <h1>{{transac.name}}</h1>
  <p class="subtitle">From: {{transac.processingTime | date: "yyyy/MM/dd HH:mm:ss" }} - To: {{transac.lastEventTime | date: "yyyy/MM/dd HH:mm:ss" }}</p>
</div>

<div class=row">
  <div class="col-md-12">
    <div class="event_list">
      <div ng-repeat="elt in events">
        <div class="panel {{elt.panelClass}}">
          <div class="panel-heading">{{ elt.date }}</div>
          <div class="panel-body">
            <div class="event" ng-repeat="event in elt.events">
              <dl>
                <dt class="{{eventClass(event)}}">
                  <span class="time">{{event.time | date: "HH:mm:ss"}}</span>
                  <span class="label">{{event.label}}</span>
                </dt>
                <dd>
                  <div class="message">
                    <span ng-bind-html="htmlMessage(event)"></span>
                  </div>
                </dd>
              </dl>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="event_history">
      <table class="table table-hover result-table">
        <thead>
          <tr>
            <th></th>
            <th>Name</th>
            <th><a href="" style="color: black;" ng-click="params.sort='server'; params.reverse=!params.reverse">Server</a></th>
            <th><a href="" style="color: black;" ng-click="params.sort='valueDate'; params.reverse=!params.reverse">ValueDate</a></th>
            <th><a href="" style="color: black;" ng-click="params.sort='processingTime'; params.reverse=!params.reverse">FirstEventTime</a></th>
            <th><a href="" style="color: black;" ng-click="params.sort='delay'; params.reverse=!params.reverse">LastEventTime</a></th>
          </tr>
        </thead>
        <tbody>
          <tr class="animate-repeat" ng-repeat="transac in transacs | orderBy:params.sort:params.reverse" >
            <td> 
              <span class="{{ transac.statusIcon }}"></span> 
              <span class="{{ transac.isRunningIcon }}"></span> 
              <span class="{{ transac.isMultiIcon }}"></span> 
              <span class="{{ transac.isLockIcon }}"></span> 
            </td>
            <td> 
              <a href="" ng-click="$parent.loadDetailFromHistory(transac.id)">{{transac.name}}</a>
            </td>
            <td> {{transac.server}} </td>
            <td> {{transac.valueDate | date: 'yyyy/MM/dd'}} </td>
            <td> {{transac.processingTime | date: 'yyyy/MM/dd HH:mm:ss'}} </td>
            <td> {{transac.lastEventTime | date: 'yyyy/MM/dd HH:mm:ss'}} </td>
          </tr>
        </tbody>
      </table>

    </div>
  </div>
</div>
